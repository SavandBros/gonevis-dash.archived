<div class="container container-light pad-top">
  <div class="col-md-4 col-md-offset-4">
    <div class="panel panel-default s-box">
      <div class="panel-body s-pad">
        <!-- Success message -->
        <div class="animated fadeIn" ng-show="success">
          <small><i class="fa fa-check-circle-o text-primary"></i>
            Thanks for registering, a link has been sent to your email for account verification.
          </small>
          <hr>
          <small>
            <span class="o-fade-soft">Haven't received the verification link yet?</span>
            <a ng-click="resend(registeredEmail)">Resend email</a>
          </small>
        </div>
        <!-- Signup form -->
        <form ng-submit="signup(form)" ng-hide="success">
          <h3 class="o-fade-soft">{{ inviteToken ? "Start Collaborating" : "Register" }}</h3>
          <hr>
          <!-- Email -->
          <div class="form-group" ng-class="{'has-error': form.errors.email}">
            <input id="email" class="form-control input-lg" type="email"
              ng-model="form.data.email" placeholder="Email" required/>
            <span class="help-block" ng-show="form.errors.email">{{ form.errors.email[0] }}</span>
          </div>
          <!-- Username -->
          <div class="form-group" ng-class="{'has-error': form.errors.username}">
            <input id="username" class="form-control input-lg" type="username"
              ng-focus="form.focused.username = true" ng-blur="form.focused.username = false"
              uib-tooltip="Used in your public profile." tooltip-trigger="'focus'" tooltip-class="init"
              ng-model="form.data.username" placeholder="Username" required/>
            <span class="help-block" ng-show="form.errors.username">{{ form.errors.username[0] }}</span>
          </div>
          <!-- Password -->
          <div class="form-group" ng-class="{'has-error': form.errors.password}">
            <div class="input-group">
              <!-- Input -->
              <input id="password" class="form-control input-lg" type="{{ showPassword ? 'text' : 'password' }}"
                uib-tooltip="Must be at least 8 characters." tooltip-trigger="'focus'" tooltip-class="init"
                ng-model="password.password" ng-trim="false" placeholder="Password" required>
              <!-- Show/hide button -->
              <span class="input-group-btn">
                <button class="btn btn-default btn-lg" type="button" ng-model="showPassword" uib-btn-checkbox>
                  <i class="fa fa-fw" ng-class="{'fa-eye': !showPassword, 'fa-eye-slash': showPassword}"></i>
                </button>
              </span>
            </div>
            <ng-include src="'basement/password/password_strength.html'"></ng-include>
            <span class="help-block" ng-show="form.errors.password">{{ form.errors.password[0] }}</span>
          </div>
          <!-- Error -->
          <div class="form-group alert alert-danger" ng-show="form.errors.non_field_errors">
            {{ form.errors.non_field_errors[0] }}
          </div>
          <!-- Button -->
          <button class="btn btn-success btn-block btn-lg"
            ng-disabled="form.loading || form.$invalid || !password.isValid()">
            Register
          </button>
        </form>
      </div>
      <!-- Footer -->
      <div class="panel-footer s-pad">
        <span class="s-mar-no o-fade">Already have an account?</span> <a ui-sref="signin">Login</a>
      </div>
    </div>
  </div>
</div>