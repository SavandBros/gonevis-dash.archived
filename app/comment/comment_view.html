<div class="container container-light pad-top">
  <div class="col-md-8 col-md-offset-2">
    <!-- Search form -->
    <ng-include src="'basement/search/search_form.html'" ng-if="initialled">
    </ng-include>
    <!-- Search noresult -->
    <ng-include src="'basement/search/search_noresult.html'"></ng-include>
    <!-- Nothing -->
    <ng-include src="'basement/nothing/nothing.html'" ng-if="!comments.length && !searchForm.noResult && initialled"
      ng-init="nothingText = 'You have no comments.'">
    </ng-include>
    <!-- List -->
    <div class="panel panel-default animated fadeIn" ng-if="comments.length">
      <ul class="panel-body panel-list">
        <li class="list-panel b-left row s-mar-no {{ comment.getStatus().class }}" ng-class="{'animated fadeOut': comment.isDeleted}"
          ng-repeat="comment in comments" ng-show="!comment.isDeleted">
          <!-- Image -->
          <div class="col-md-1 col-lg-1 col-sm-1 col-xs-2 comment">
            <img class="img-circle"
                ng-src="{{
              comment.user.get.media.picture ? comment.user.get.media.thumbnail_48x48 : 'assets/img/avatar.png'
            }}">
          </div>
          <!-- Info -->
          <div class="col-md-10 col-lg-10 col-sm-10 col-xs-8 t-line">
            <small>
              <a ng-href="{{ comment.user.get.get_absolute_uri }}" target="_blank">
                {{ comment.user.getDisplayName() }}
              </a>
              responded to
              <a ui-sref="dash.entry-edit({ entryId: comment.get.commented_object_minimal_data.id })">
                {{ comment.get.commented_object_minimal_data.title }}
              </a>
              at
              <span class="o-fade-soft">{{ comment.get.created | date }}</span>
            </small>
          </div>
          <!-- Comment -->
          <div class="col-md-10 col-lg-10 col-sm-10 col-xs-8 t-line">
            <a ng-click="comment.view()">{{ comment.get.comment }}</a>
          </div>
          <!-- Options -->
          <div class="col-xs-2 col-sm-1 col-md-1 col-lg-1 pull-right">
            <button class="btn btn-default btn-circle dropdown-toggle btn-sm o-fade" data-toggle="dropdown"
              style="margin-top: -20px;">
              <i class="fa fa-fw fa-ellipsis-v"></i>
            </button>
            <ul class="dropdown-menu dropdown-menu-right">
              <li class="dropdown-header">Change status</li>
              <li ng-repeat="status in statuses" ng-class="{'active': comment.getStatus().label == status.label}">
                <a ng-click="comment.setStatus(status.property, status.value)">
                  <i class="fa fa-{{ status.icon }}"></i> {{ status.label }}
                </a>
              </li>
              <li class="divider"></li>
              <li>
                <a ng-click="comment.remove()">
                  <i class="fa fa-fw fa-trash text-danger"></i> Delete comment
                </a>
              </li>
            </ul>
          </div>
        </li>
      </ul>
    </div>
    <!-- More -->
    <ng-include src="'basement/pagination/pagination_loadmore.html'" ng-if="initialled"></ng-include>
  </div>
</div>
